(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),i=a(9),c=a.n(i),l=(a(16),a(17),a(10)),s=a(2),r=a(3),d=a(4),u=a(7),h=a(5),m=a(1),f=a(6),p=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={title:a.props.title},a.refField=n.a.createRef(),a.changeTitle=a.changeTitle.bind(Object(m.a)(a)),a.submitTitle=a.submitTitle.bind(Object(m.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.refField.current.focus()}},{key:"changeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"submitTitle",value:function(e){e.preventDefault(),this.props.ChangeTitle(this.state.title)}},{key:"render",value:function(){return n.a.createElement("form",{onSubmit:this.submitTitle},n.a.createElement("input",{type:"text",value:this.state.title,onChange:this.changeTitle,className:"edit",ref:this.refField,onBlur:this.submitTitle}))}}]),t}(o.Component),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).changeStatus=a.changeStatus.bind(Object(m.a)(a)),a.delete=a.delete.bind(Object(m.a)(a)),a.state={doubleClicked:!1},a.ShowOrHideForm=a.ShowOrHideForm.bind(Object(m.a)(a)),a.ChangeTitle=a.ChangeTitle.bind(Object(m.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"changeStatus",value:function(){this.props.change(this.props.todo)}},{key:"delete",value:function(){this.props.destroy(this.props.todo)}},{key:"ShowOrHideForm",value:function(){var e=this.state.doubleClicked;this.setState({doubleClicked:!e})}},{key:"ChangeTitle",value:function(e){this.props.changeTitle(this.props.todo,e),this.ShowOrHideForm()}},{key:"render",value:function(){var e=this.props.todo,t=e.title,a=e.id,o=e.completed,i=this.state.doubleClicked,c=o?"completed":"";c=i?"editing":c;var l=i?n.a.createElement(p,{title:t,ChangeTitle:this.ChangeTitle}):"";return n.a.createElement("li",{className:c},n.a.createElement("div",{className:"view"},n.a.createElement("label",{onDoubleClick:this.ShowOrHideForm,className:o?"completed-label":"",htmlFor:"todo-".concat(a)},n.a.createElement("input",{type:"checkbox",className:"toggle",id:"todo-".concat(a),onChange:this.changeStatus}),t),n.a.createElement("button",{type:"button",className:"destroy",onClick:this.delete})),l)}}]),t}(o.Component);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,o)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v=function(e){function t(e){var a;return Object(r.a)(this,t),a=Object(u.a)(this,Object(h.a)(t).call(this,e)),null!==localStorage.getItem("state")?a.state=JSON.parse(localStorage.getItem("state")):a.state={todos:[],inputValue:"",counter:0,kindOfList:"all"},a.AddTodo=a.AddTodo.bind(Object(m.a)(a)),a.changeTodoInput=a.changeTodoInput.bind(Object(m.a)(a)),a.countHowMuchLeftToDo=a.countHowMuchLeftToDo.bind(Object(m.a)(a)),a.destroyTodo=a.destroyTodo.bind(Object(m.a)(a)),a.howToShowList=a.howToShowList.bind(Object(m.a)(a)),a.changeKindOfList=a.changeKindOfList.bind(Object(m.a)(a)),a.changeTodoStatus=a.changeTodoStatus.bind(Object(m.a)(a)),a.changeTitleOfTodo=a.changeTitleOfTodo.bind(Object(m.a)(a)),a.allCompleted=a.allCompleted.bind(Object(m.a)(a)),a.deleteCompleted=a.deleteCompleted.bind(Object(m.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"AddTodo",value:function(e){e.preventDefault();var t=this.state,a=t.inputValue,o=t.counter;if(""!==a){var n={title:a,id:o+1,completed:!1};this.setState(function(e){return{todos:[].concat(Object(s.a)(e.todos),[n]),counter:o+1,inputValue:""}})}}},{key:"changeTodoInput",value:function(e){this.setState({inputValue:e.target.value})}},{key:"countHowMuchLeftToDo",value:function(){return this.state.todos.reduce(function(e,t){return e+!t.completed},0)}},{key:"destroyTodo",value:function(e){var t=this.state.todos.findIndex(function(t){return t.id===e.id});this.setState(function(e){var a=Object(s.a)(e.todos);return a.splice(t,1),g({},e,{todos:Object(s.a)(a)})})}},{key:"howToShowList",value:function(){var e=[];switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.kindOfList){case"all":e=Object(s.a)(this.state.todos);break;case"active":e=this.state.todos.filter(function(e){return!1===e.completed});break;case"completed":e=this.state.todos.filter(function(e){return!0===e.completed})}return e}},{key:"changeKindOfList",value:function(e){if("A"===e.target.tagName){var t=e.target.href.match(/#+\/[a-z]+/gi).join("").match(/[a-z]/gi).join("");this.setState({kindOfList:t})}}},{key:"changeTodoStatus",value:function(e){this.setState(function(t){var a=t.todos.findIndex(function(t){return t.id===e.id}),o=Object(s.a)(t.todos);return o[a].completed=!o[a].completed,g({},t,{todos:Object(s.a)(o)})})}},{key:"changeTitleOfTodo",value:function(e,t){if(""===t)this.destroyTodo(e);else{var a=this.state.todos.findIndex(function(t){return t.id===e.id});this.setState(function(e){var o=Object(s.a)(e.todos);return o[a].title=t,g({},e,{todos:o})})}}},{key:"allCompleted",value:function(){var e=this.state.todos,t=!0;e.every(function(e){return e.completed})&&(t=!1),this.setState(function(e){var a=Object(s.a)(e.todos);return a.forEach(function(e){e.completed=t}),g({},e,{todos:Object(s.a)(a)})})}},{key:"deleteCompleted",value:function(){this.setState(function(e){var t=e.todos.filter(function(e){return!e.completed});return g({},e,{todos:Object(s.a)(t)})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.inputValue,o=t.kindOfList,i=t.todos,c=Object(s.a)(this.howToShowList(o)),l=this.countHowMuchLeftToDo(),r=this.state;return localStorage.setItem("state",JSON.stringify(r)),n.a.createElement("section",{className:"todoapp"},n.a.createElement("header",{className:"header"},n.a.createElement("h1",null,"todos"),n.a.createElement("form",{onSubmit:this.AddTodo},n.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",value:a,onChange:this.changeTodoInput}))),n.a.createElement("section",{className:"main",style:0!==i.length?{display:"block"}:{display:"none"}},n.a.createElement("label",{htmlFor:"toggle-all",className:"label-toggle-all ".concat(i.every(function(e){return e.completed})?"label-toggle-all-checked":"")},n.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:this.allCompleted})),n.a.createElement("ul",{className:"todo-list"},c.map(function(t){return n.a.createElement(b,{todo:t,key:t.id,change:e.changeTodoStatus,destroy:e.destroyTodo,changeTitle:e.changeTitleOfTodo})}))),n.a.createElement("footer",{className:"footer",style:0!==i.length?{display:"block"}:{display:"none"}},n.a.createElement("span",{className:"todo-count"},"".concat(l," items left")),n.a.createElement("ul",{className:"filters"},n.a.createElement("li",null,n.a.createElement("a",{href:"#/all",className:"all"===o?"selected":"",onClick:this.changeKindOfList},"All")),n.a.createElement("li",null,n.a.createElement("a",{href:"#/active",className:"active"===o?"selected":"",onClick:this.changeKindOfList},"Active")),n.a.createElement("li",null,n.a.createElement("a",{href:"#/completed",className:"completed"===o?"selected":"",onClick:this.changeKindOfList},"Completed"))),n.a.createElement("button",{type:"button",className:"clear-completed",style:{display:"block"},onClick:this.deleteCompleted},i.some(function(e){return e.completed})?"Clear-completed":"")))}}]),t}(o.Component);c.a.render(n.a.createElement(v,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.6d74e578.chunk.js.map